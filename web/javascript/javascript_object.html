<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Javascript Object</title>

    <!-- <script>
        // 객체 정의 : {}
        var obj = {
            // 속성의 정의
            // 속성이름 : 데이터(any)
            // 여러개의 속성을 정의할 때는 ,를 이용해 작성
            name : '손흥민',
            age : 30,
            // 함수 : 객체안에 존재하는 함수는 메소드라 칭함
            hello : function(){
                alert('안녕하세요.' + this.name + '입니다. 제 나이는 ' + this.age + '입니다.');
            }
        };
        console.log('typeof obj : ', typeof obj, obj);
        obj.hello();
        console.log(obj.name);
    </script> -->

    <!-- <script>
        // 객체의 속성을 동적으로 추가, 삭제
        var player = {};
        console.log(player); 
        
        // 속성 추가
        player.name = '손흥민';
        player.team = 'Tot';
        player.number = 7;
        player.play = function(){
            alert('Goal!!');
        };
        player.address = '런던';
        console.log(player); 

        // 속성 삭제 : delete
        delete player.address;
        console.log(player); 
    </script> -->

    <!-- <script>
        // body를 읽기전에 실행하므로 body가 없으므로 실행되지 않음
        // html을 다 읽고 난 뒤 실행
        window.onload = function () {
            // 학생들의 과목점수를 저장하는 배열
            // 학생들의 과목점수는 객체로 생성 => 배열로 객체를 저장
            var students = [];
            // 배열(객체)에 요소를 추가하는 메소드
            students.push({ name: 'AAA', kor: 90, eng: 91, math: 80 });
            students.push({ name: 'BBB', kor: 80, eng: 89, math: 90 });
            students.push({ name: 'CCC', kor: 70, eng: 90, math: 10 });
            students.push({ name: 'DDD', kor: 60, eng: 99, math: 20 });
            students.push({ name: 'EEE', kor: 50, eng: 98, math: 30 });
            students.push({ name: 'FFF', kor: 40, eng: 97, math: 40 });
            students.push({ name: 'GGG', kor: 30, eng: 96, math: 50 });
            students.push({ name: 'HHH', kor: 20, eng: 95, math: 60 });
            students.push({ name: 'III', kor: 10, eng: 94, math: 70 });
            students.push({ name: 'JJJ', kor: 90, eng: 93, math: 80 });

            // 각 요소 객체에 메소드를 추가
            // 합을 구해서 반환하는 메소드
            // 평균값을 구해서 반환하는 메소드
            for (var i = 0; i < students.length; i++) {
                // 합을 구하는 메소드
                students[i].getSum = function () {
                    return this.kor + this.eng + this.math;
                }
                // 평균을 구하는 메소드
                students[i].getAvg = function () {
                    return this.getSum() / 3;
                }
                // 데이터 출력 메소드
                students[i].print = function () {
                    return this.name + ' : ' + this.getSum() + ' : ' + this.getAvg();
                }
            }

            // var html = '<h3> 이름 : 총점 : 평균 </h3>';
            var html = '<table border="1">';
                html += '   <tr>';
                html += '       <th>이름</th>';
                html += '       <th>총점</th>';
                html += '       <th>평균</th>';
                html +='    </tr>';
            for (var i = 0; i < students.length; i++) {
                // body태그에 요소들을 추가
                html += '   <tr>';
                html += '       <td>'+students[i].name+'</td>';
                html += '       <td>'+students[i].getSum()+'</td>';
                html += '       <td>'+students[i].getAvg()+'</td>';
                html += '   </tr>';
                // html += '<h3>' + students[i].print() + '</h3>';
            }
            html += '</table>';
            document.body.innerHTML = html;
        }
    </script> -->

    <script>
        // 생성자 함수 : new 키워드로 객체를 생성해주는 함수
        // 생성자 함수의 이름(식별자)는 대문자로 시작
        function Student(name, kor, eng, math){
            // 속성
            this.name = name;
            this.kor = kor;
            this.eng = eng;
            this.math = math;

            // 총점을 구하는 메소드
            // this.getSum = function(){
            //     return this.kor + this.eng + this.math;
            // }
            // 평균을 구하는 메소드
            // this.getAvg = function(){
            //     return this.getSum() / 3;
            // }
            // html을 만들어주는 메소드
            // this.makeHtml = function(){
            //     html = '';
            //     html += '   <tr>';
            //     html += '       <td>'+this.name+'</td>';
            //     html += '       <td>'+this.getSum()+'</td>';
            //     html += '       <td>'+this.getAvg()+'</td>';
            //     html += '   </tr>';
            //     return html;
            // } 
        }

        // var st = new Student('한국', 100, 50, 70);
        // console.log(typeof st);
        // console.log(st);


        // prototype을 이용한 공통 메소드 정의
        Student.prototype.getSum = function(){
            return this.kor + this.eng + this.math;
        }
        Student.prototype.getAvg = function(){
            return this.getSum() / 3;
        }
        // Student.prototype.makeHtml = function(){
        // var html = '';
        // html += '   <tr>';
        // html += '       <th>'+this.name+'</th>';
        // html += '       <th>'+this.getSum()+'</th>';
        // html += '       <th>'+this.getAvg()+'</th>';
        // html += '   </tr>';
        // return html;
        // }

        Student.prototype.toString = function(){
        var html = '';
        html += '   <tr>';
        html += '       <th>'+this.name+'</th>';
        html += '       <th>'+this.getSum()+'</th>';
        html += '       <th>'+Math.round(this.getAvg())+'</th>';
        html += '   </tr>';
        return html;
        }


        window.onload = function() {
        // Students 타입의 객체들을 저장하는 배열생성
        var students = [];
        students.push(new Student('AAA', 100, 80, 90));
        students.push(new Student('BAA', 100, 80, 90));
        students.push(new Student('CAA', 100, 80, 90));
        students.push(new Student('DAA', 100, 80, 90));
        students.push(new Student('EAA', 100, 80, 90));
        students.push(new Student('FAA', 100, 80, 90));
        students.push(new Student('GAA', 100, 80, 90));
        students.push(new Student('HAA', 100, 80, 90));
        students.push(new Student('IAA', 100, 80, 90));

        students.sort(function(left, right){
            return right.getSum()-left.getSum();
        });

        students = students.slice(0,5);


        var html = '<table border="1">';
        html += '   <tr>';
        html += '       <th>이름</th>';
        html += '       <th>총점</th>';
        html += '       <th>평균</th>';
        html += '   </tr>';

        for(var i=0; i<students.length; i++){
            html += students[i];
        }

        html +='</table>'
        
        document.body.innerHTML = html;
    }
    </script>

    <!-- <script>

        // 생성자 함수에서 캡슐화
        // 변수에 직접 참조를 하지 못하도록 처리
        function Rect(w, h){
            // this.width = w;
            // this.height = h;
            var width = w;
            var height = h;

            this.getWidth = function(){
                return width;
            }
            this.getHeight = function(){
                return height;
            }
        }

        Rect.prototype.getArea = function(){
            return this.getWidth() * this.getHeight();
        }

        var rec = new Rect(10, 5);
        rec.width = -2; //오류, 캡슐화시 변경할 수 없으므로 오류발생X
        console.log('Rect(10, 5) area : ', rec.getArea());

    </script> -->


    <!-- <script>
        var num = 100;
        var objNum = new Number(100);
        console.log(typeof num, num);
        console.log(typeof objNum, objNum);
    </script> -->

    <!-- <script>
        // Number 객체
        var number = 234.2342;
        console.log(typeof number);
        var objNumber = new Number(number);
        console.log(objNumber.toExponential());
        console.log(objNumber.toFixed());
        console.log(objNumber.toPrecision());
    </script> -->

    <!-- <script>
        var str = 'hello';
        var objStr = new String(str);

        console.log(typeof str, str);
        console.log(typeof objStr, objStr);
        console.log(str == objStr);
        console.log(str === objStr);
        console.log(str.length);
        console.log(objStr.length);
    </script> -->

    <script>
        var arr = [5, 7, 3, 9, 4, 2];

        // 소팅 : 정렬
        arr.sort(function(left, right){
            return right-left;
        });

        // 높은 숫자만 가지는 배열 생성
        arr = arr.slice(0,3);

        arr.forEach(function(element){
            console.log(element);
        });        
    </script>

</head>

<body>

</body>

</html>